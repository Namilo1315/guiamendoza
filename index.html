<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gu√≠a Comercial</title>

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet"/>
  <link rel="icon" href="data:image/svg+xml,
  <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'>
    <polygon points='8,0 10.09,5.26 16,6.09 11.55,10.14 12.91,16 8,13 3.09,16 4.45,10.14 0,6.09 5.91,5.26'
             fill='%23ffc107'/>
  </svg>">
  
  <style>
    :root{
      --primary:#007bff;
      --accent: #007bff;
      --soft:#ffffff;
      --text:#1f2a37;
    }
   

    body{
      background:var(--soft);
      color:var(--text);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial
    }

    /* ==== TARJETAS ==== */
    .shadow-smooth{box-shadow:0 10px 25px rgba(0,0,0,.08)}
    .card{border:0;border-radius:18px}
    .card-hover{transition:transform .25s ease,box-shadow .25s ease}
    .card-hover:hover{transform:translateY(-5px);box-shadow:0 12px 30px rgba(0,0,0,.12)}

    .avatar{
      width:56px;height:56px;border-radius:999px;
      display:flex;align-items:center;justify-content:center;
      font-weight:800;background:linear-gradient(135deg,var(--primary),var(--accent));
      color:#fff;letter-spacing:.5px
    }

    /* ==== HERO ==== */
    .hero{
      background: radial-gradient(1200px 400px at 10% -20%, #67c1ff44, transparent 60%),
                  radial-gradient(1000px 500px at 110% 10%, #00a5fe22, transparent 60%),
                  linear-gradient(90deg, #4facfe, #00a5fe);
      color:#fff
    }
    .hero .badge{background:rgba(255,255,255,.18);backdrop-filter: blur(6px)}

    /* ==== FILTROS ==== */
    .filter-btn{
      border-radius:999px;border:1px solid #0d6efd;background:transparent;color:#0d6efd;font-weight:700
    }
    .filter-btn.active,.filter-btn:hover{background:#0d6efd;color:#ffffff}
    .search-wrap{background:#fff;border-radius:16px}
    /* ==== CARRUSEL HERO ==== */
    .carousel-item img{height:350px;object-fit:cover;border-radius:16px}

    /* ==== CARRUSEL DESTACADOS ==== */
    .carrusel1-container {
      width: 100%;
      max-width: 1400px;
      margin: 0 auto;
      overflow: hidden;
      position: relative;
    }
    .carrusel1-track {
      display: flex;
      gap: 20px;
      transition: transform 0.6s ease;
    }
    .carrusel1-card {
      flex: 0 0 20%; /* 5 visibles */
      box-sizing: border-box;
      cursor: pointer;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .carrusel1-card:hover {
      transform: scale(1.08);
      box-shadow: 0 18px 35px rgba(0,0,0,0.25);
      z-index: 10;
    }
    .carrusel1-btn {
      border-radius: 50%;
      width: 45px; height: 45px;
      box-shadow: 0 4px 10px rgba(0,0,0,.2);
      transition: background .2s;
    }
    .carrusel1-btn:hover { background: var(--primary); color: #fff; }

    /* ==== TITULOS ==== */
    .section-title {
      position: relative;
      display: inline-block;
      font-weight: 800;
    }
    .section-title::after {
      content:"";
      display:block;
      width:60px;
      height:4px;
      background:var(--accent);
      margin:8px auto 0;
      border-radius:4px;
    }

    /* ==== WHATSAPP FLOTANTE ==== */
    .whatsapp-fab{
      position:fixed;right:18px;bottom:18px;width:56px;height:56px;border-radius:999px;background:#25d366;color:#fff;
      display:flex;align-items:center;justify-content:center;font-size:26px;z-index:1055;
      box-shadow:0 10px 20px rgba(0,0,0,.2);
      transition: transform .25s ease;
    }
    .whatsapp-fab:hover{transform:scale(1.1)}

    /* ==== FOOTER ==== */
    .footer{background:#0b1324;color:#cbd5e1}
    
    /* ==== ANIMACIONES ==== */
    [data-animate]{opacity:0;transform:translateY(40px);transition:all .8s ease;}
    [data-animate].visible{opacity:1;transform:none;}

    /* ==== TODOS LOS COMERCIOS ==== */
    #comerciosContainer .col-comercio { flex: 0 0 20%; padding:10px; }
    @media (max-width:1200px){ #comerciosContainer .col-comercio{flex:0 0 25%;} }
    @media (max-width:992px){ #comerciosContainer .col-comercio{flex:0 0 33.33%;} }
    @media (max-width:768px){ #comerciosContainer .col-comercio{flex:0 0 50%;} }
    @media (max-width:576px){ #comerciosContainer .col-comercio{flex:0 0 100%;} }

    @media (max-width: 1200px) { html, body { font-size: 13px; } }
    html, body { font-size: 13px; }
    /* ==== AJUSTES RESPONSIVE PARA CELULAR ==== */

/* Botones dentro de las cards */
@media (max-width: 576px) {
  .card .btn {
    font-size: 0.85rem;     /* texto m√°s chico */
    padding: 6px 12px;      /* menos alto */
    border-radius: 12px;    /* suavizar esquinas */
  }
}

/* Cards m√°s compactas en m√≥vil */
@media (max-width: 576px) {
  .card {
    border-radius: 14px;
    padding: 12px !important;   /* achicar relleno interno */
  }
}

/* Avatar m√°s chico en pantallas peque√±as */
@media (max-width: 576px) {
  .avatar {
    width: 44px;
    height: 44px;
    font-size: 14px;
  }
  .carousel-item img{height:170px;object-fit:cover;border-radius:16px}
}


/* Responsive */
@media (max-width: 992px) { .carrusel1-card { flex: 0 0 25%; } }  /* 4 visibles */
@media (max-width: 768px) { .carrusel1-card { flex: 0 0 33.33%; } } /* 3 visibles */
@media (max-width: 576px) { .carrusel1-card { flex: 0 0 80%; } }    /* 2 visibles */

/* Imagen dentro de la card */
.carrusel1-card img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 16px;
}

/* Opcional: que el contenido dentro de la card se ajuste */
.carrusel1-card .card-content {
  padding: 10px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}


  </style>
</head>
<body>

<!-- ====================== HERO ====================== -->
<header class="hero py-5 position-relative overflow-hidden shadow-sm">
  <div class="container">
    <div class="row align-items-center gy-4">
      <div class="col-lg-7" data-animate>
        <span class="badge rounded-pill px-3 py-2 mb-3">Gu√≠a Local</span>
        <h1 class="display-5 fw-bold mb-3">
          <i class="bi bi-shop-window me-2"></i> Descubr√≠ y Registr√° tu Comercio
        </h1>
        <p class="lead mb-4">Explor√° comercios por rubro, habl√° por WhatsApp en un toque y sum√° tu negocio a la gu√≠a.</p>
        <div class="d-flex flex-wrap gap-2">
          <button class="btn btn-light btn-lg rounded-pill fw-bold px-4" data-bs-toggle="modal" data-bs-target="#modalRegistro">
            <i class="bi bi-shop me-2"></i> Registrar mi comercio
          </button>
          <button class="btn btn-outline-light btn-lg rounded-pill fw-bold px-4" data-bs-toggle="modal" data-bs-target="#modalCatalogo">
            <i class="bi bi-gift me-2"></i> Cat√°logo D√≠a de la Madre
          </button>
        </div>
      </div>
       <div class="col-lg-5 text-center">
        <div class="search-wrap p-3 shadow-smooth">
          <div class="input-group" 
          style="border: 1px solid #ced4da; border-radius: 8px; overflow: hidden; transition: border-color 0.3s, box-shadow 0.3s;"
          onmouseover="this.style.borderColor='#0d6efd'; this.style.boxShadow='0 0 5px rgba(13, 110, 253, 0.3)';"
          onmouseout="this.style.borderColor='#ced4da'; this.style.boxShadow='none';">
       <span class="input-group-text bg-white border-0">
         <i class="bi bi-search text-primary"></i>
       </span>
       <input id="searchInput" class="form-control border-0" 
              placeholder="Buscar por nombre, direcci√≥n o rubro..." 
              style="border: none; outline: none;">
     </div>
     
          <div class="mt-3 d-flex flex-wrap gap-2 justify-content-center">
            <button class="filter-btn btn btn-sm px-2 py-1 active" data-rubro="todos">Todos</button>
            <button class="filter-btn btn btn-sm px-2 py-1" data-rubro="Deliveris">Deliveris</button>
            <button class="filter-btn btn btn-sm px-2 py-1" data-rubro="Servicios">Servicios</button>
            <button class="filter-btn btn btn-sm px-2 py-1" data-rubro="Profesionales">Profesionales</button>
            <button class="filter-btn btn btn-sm px-2 py-1" data-rubro="Art√≠culos">Art√≠culos</button>
            <button class="filter-btn btn btn-sm px-2 py-1" data-rubro="Ferreter√≠as">Ferreter√≠as</button>
            <button class="filter-btn btn btn-sm px-2 py-1" data-rubro="Pet Shop">Pet Shop</button>
            <button class="filter-btn btn btn-sm px-2 py-1" data-rubro="Panader√≠as">Panader√≠as</button>
            <button class="filter-btn btn btn-sm px-2 py-1" data-rubro="Papeler√≠a">Papeler√≠a</button>
            <button class="filter-btn btn btn-sm px-2 py-1" data-rubro="Librer√≠as">Librer√≠as</button>
            <button class="filter-btn btn btn-sm px-2 py-1" data-rubro="Vidrier√≠a">Vidrier√≠a</button>
            <button class="filter-btn btn btn-sm px-2 py-1" data-rubro="Gomer√≠a">Gomer√≠a</button>
            <button class="filter-btn btn btn-sm px-2 py-1" data-rubro="Cerrajer√≠a">Cerrajer√≠a</button>
            <button class="filter-btn btn btn-sm px-2 py-1" data-rubro="Refrigeraci√≥n">Refrigeraci√≥n</button>
            <button class="filter-btn btn btn-sm px-2 py-1" data-rubro="Calefacci√≥n">Calefacci√≥n</button>
            <button class="filter-btn btn btn-sm px-2 py-1" data-rubro="Bazar">Bazar</button>
            <button class="filter-btn btn btn-sm px-2 py-1" data-rubro="Carnicer√≠as">Carnicer√≠as</button>
            <button class="filter-btn btn btn-sm px-2 py-1" data-rubro="24 hs">24 hs</button>
            <button class="filter-btn btn btn-sm px-2 py-1" data-rubro="Frutas y Verduras">Frutas y Verduras</button>
            <button class="filter-btn btn btn-sm px-2 py-1" data-rubro="Jard√≠n">Jard√≠n</button>
            <button class="filter-btn btn btn-sm px-2 py-1" data-rubro="Viveros">Viveros</button>
            <button class="filter-btn btn btn-sm px-2 py-1" data-rubro="Cotill√≥n">Cotill√≥n</button>
          </div>
          
        </div>
      </div>
    </div>
  </div>
</header>


<!-- ====================== CARRUSEL PROMOS ====================== -->
<div id="heroCarousel" class="carousel slide my-4 container" data-bs-ride="carousel">
  <div class="carousel-inner">
    <div class="carousel-item active"><img class="d-block w-100" alt="Promo 1"
      src="baner.png"></div>
    <div class="carousel-item"><img class="d-block w-100" alt="Promo 2"
      src="baner2.jpeg"></div>
    <div class="carousel-item"><img class="d-block w-100" alt="Promo 3"
      src="baner1.png"></div>
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span><span class="visually-hidden">Anterior</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span><span class="visually-hidden">Siguiente</span>
  </button>
</div>
<!-- ====================== DESTACADOS ====================== -->
<section class="container mt-5">
  <div class="text-center mb-4">
    <h2 class="section-title text-primary">
      <i class="bi bi-star-fill text-warning me-2"></i> Comercios Destacados
    </h2>
    <p class="text-muted mb-0">Nuestros favoritos de la semana</p>
  </div>

  <div class="carrusel1-container">
    <div class="carrusel1-track" id="featuredContainer"></div>
    <button class="carrusel1-btn prev btn btn-light position-absolute top-50 start-0 translate-middle-y">&#10094;</button>
    <button class="carrusel1-btn next btn btn-light position-absolute top-50 end-0 translate-middle-y">&#10095;</button>
  </div>
</section>
  
<!-- ====================== TODOS LOS COMERCIOS ====================== -->
<section class="container mt-5" id="comercios1">
  <div class="text-center mb-4">
    <h2 class="section-title text-primary">
      <i class="bi bi-collection me-2"></i> Todos los Comercios
    </h2>
  </div>
  <div class="d-flex flex-wrap" id="comerciosContainer"></div>
</section>

<!-- WHATSAPP -->
<!-- WHATSAPP -->
<a class="whatsapp-fab" 
   href="https://wa.me/5492615676784?text=Hola%20quiero%20m√°s%20informaci√≥n" 
   target="_blank">
   <i class="bi bi-whatsapp"></i>
</a>


<!-- ====================== MODAL REGISTRO ====================== -->
<div class="modal fade" id="modalRegistro" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content rounded-4 border-0 shadow-smooth">
      <form id="formRegistro" class="needs-validation" novalidate>
        <div class="modal-header bg-light border-0 rounded-top-4">
          <h5 class="modal-title fw-bold text-success"><i class="bi bi-shop-window me-2"></i>Registrar nuevo comercio</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
        </div>
        <div class="modal-body">
          <div class="form-floating mb-3">
            <input required type="text" class="form-control" id="regNombre" placeholder="Nombre del comercio">
            <label for="regNombre">Nombre del comercio</label>
            <div class="invalid-feedback">Ingres√° el nombre.</div>
          </div>

          <div class="form-floating mb-3">
            <input required type="text" class="form-control" id="regDireccion" placeholder="Direcci√≥n">
            <label for="regDireccion">Direcci√≥n</label>
            <div class="invalid-feedback">Ingres√° la direcci√≥n.</div>
          </div>

         
<!-- SELECT REGISTRO -->
<div class="form-floating mb-3">
  <select class="form-select" id="regRubro" required>
    <option value="" selected disabled>Eleg√≠ un rubro</option>
    <option>Deliveris</option>
    <option>Servicios</option>
    <option>Profesionales</option>
    <option>Art√≠culos</option>
    <option>Ferreter√≠as</option>
    <option>Pet Shop</option>
    <option>Panader√≠as</option>
    <option>Papeler√≠a</option>
    <option>Librer√≠as</option>
    <option>Vidrier√≠a</option>
    <option>Gomer√≠a</option>
    <option>Cerrajer√≠a</option>
    <option>Refrigeraci√≥n</option>
    <option>Calefacci√≥n</option>
    <option>Bazar</option>
    <option>Carnicer√≠as</option>
    <option>24 hs</option>
    <option>Frutas y Verduras</option>
    <option>Jard√≠n</option>
    <option>Viveros</option>
    <option>Cotill√≥n</option>
  </select>
  <label for="regRubro">Rubro</label>
  <div class="invalid-feedback">Seleccion√° un rubro.</div>
</div>

          <div class="form-floating mb-3">
            <input required type="tel" class="form-control" id="regWhatsapp" placeholder="WhatsApp (solo n√∫meros)">
            <label for="regWhatsapp">WhatsApp (solo n√∫meros, sin 0/15)</label>
            <div class="invalid-feedback">Ingres√° el WhatsApp.</div>
          </div>

          <div class="small text-muted">Al guardar, el comercio aparecer√° en ‚ÄúTodos los Comercios‚Äù y se podr√° contactar por WhatsApp.</div>
        </div>
        <div class="modal-footer border-0">
          <button class="btn btn-success w-100 rounded-pill fw-bold" type="submit">
            <i class="bi bi-send me-2"></i>Enviar registro
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
<!-- Contenedor de toasts -->
<div class="position-fixed top-0 end-0 p-3" style="z-index: 100;">
  <div id="toastContainer"></div>
</div>

<!-- ====================== MODAL CAT√ÅLOGO D√çA DE LA MADRE ====================== -->
<div class="modal fade" id="modalCatalogo" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-xl modal-dialog-centered">
    <div class="modal-content rounded-4 border-0">
      <div class="modal-header bg-light border-0 rounded-top-4">
        <h5 class="modal-title fw-bold text-primary"><i class="bi bi-gift me-2"></i> Cat√°logo D√≠a de la Madre</h5>
        <button class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <div class="row g-3">
          <!-- Grid simple de cat√°logo (placeholders elegantes) -->
          <div class="col-6 col-md-3">
            <div class="card card-hover">
              <img src="https://media.istockphoto.com/id/1326570912/es/foto/botella-de-vidrio-de-perfume-sobre-fondo-de-seda-dorada.jpg?s=612x612&w=0&k=20&c=CwXCHOjerFbEIUaHmBNf-ZdUc8UQ5sUCrsHb5QZIVSg=" class="card-img-top" alt="Perfumes">
              <div class="card-body">
                <h6 class="fw-bold mb-1">Perfumes</h6>
                <p class="small text-muted mb-2">Especial Madres</p>
                <a href="https://wa.me/542615676784?text=Hola!%20Quiero%20consultar%20por%20perfumes%20del%20Cat%C3%A1logo%20D%C3%ADa%20de%20la%20Madre" target="_blank" class="btn btn-outline-primary btn-sm w-100">Consultar</a>
              </div>
            </div>
          </div>
          <div class="col-6 col-md-3">
            <div class="card card-hover">
              <img src="https://images.unsplash.com/photo-1516826957135-700dedea698c?q=80&w=1200&auto=format&fit=crop" class="card-img-top" alt="Accesorios">
              <div class="card-body">
                <h6 class="fw-bold mb-1">Accesorios</h6>
                <p class="small text-muted mb-2">Joyas y m√°s</p>
                <a href="https://wa.me/542616246767?text=Hola!%20Quiero%20consultar%20por%20accesorios%20del%20Cat%C3%A1logo%20D%C3%ADa%20de%20la%20Madre" target="_blank" class="btn btn-outline-primary btn-sm w-100">Consultar</a>
              </div>
            </div>
          </div>
          <div class="col-6 col-md-3">
            <div class="card card-hover">
              <img src="https://images.unsplash.com/photo-1512436991641-6745cdb1723f?q=80&w=1200&auto=format&fit=crop" class="card-img-top" alt="Indumentaria">
              <div class="card-body">
                <h6 class="fw-bold mb-1">Indumentaria</h6>
                <p class="small text-muted mb-2">Temporada</p>
                <a href="https://wa.me/542616246767?text=Hola!%20Quiero%20consultar%20por%20indumentaria%20del%20Cat%C3%A1logo%20D%C3%ADa%20de%20la%20Madre" target="_blank" class="btn btn-outline-primary btn-sm w-100">Consultar</a>
              </div>
            </div>
          </div>
          <div class="col-6 col-md-3">
            <div class="card card-hover">
              <img src="https://images.unsplash.com/photo-1520975916090-3105956dac38?q=80&w=1200&auto=format&fit=crop" class="card-img-top" alt="Experiencias">
              <div class="card-body">
                <h6 class="fw-bold mb-1">Experiencias</h6>
                <p class="small text-muted mb-2">Spa & Relax</p>
                <a href="https://wa.me/542616246767?text=Hola!%20Quiero%20consultar%20por%20experiencias%20del%20Cat%C3%A1logo%20D%C3%ADa%20de%20la%20Madre" target="_blank" class="btn btn-outline-primary btn-sm w-100">Consultar</a>
              </div>
            </div>
          </div>
          
        </div>
        
        <div class="small text-muted mt-3"></div>
      </div>
      <div class="modal-footer border-0">
        <button class="btn btn-primary rounded-pill" data-bs-dismiss="modal">Listo</button>
      </div>
    </div>
  </div>
</div>

<!-- ====================== SECCI√ìN DESTACADO PROFESIONAL ====================== -->
<section class="container my-3 py-3">

  <!-- T√çTULO PRINCIPAL -->
  <div class="text-center mb-5">
    <h2 class="section-title fw-bold text-primary">
      <i class="bi bi-megaphone-fill me-2"></i> ¬°Hac√© crecer tu comercio!
    </h2>
    <p class="lead text-muted">
      Con el plan <span class="fw-bold text-warning">DESTACADO</span> tu negocio tendr√° m√°s visibilidad y oportunidades.
    </p>
  </div>

  <!-- TARJETAS DE BENEFICIOS -->
  <div class="row g-4 text-center mb-5">
    <div class="col-md-4" data-animate>
      <div class="p-4 rounded-4 h-100 bg-gradient shadow-smooth" style="background: linear-gradient(145deg,#fff8e1,#ffe066);">
        <i class="bi bi-star-fill text-warning display-4 mb-3"></i>
        <h5 class="fw-bold">Mayor Visibilidad</h5>
        <p class="small text-muted mt-2">
          Tu comercio aparecer√° en la secci√≥n especial de destacados en la parte superior.
        </p>
      </div>
    </div>

    <div class="col-md-4" data-animate>
      <div class="p-4 rounded-4 h-100 bg-gradient shadow-smooth" style="background: linear-gradient(145deg,#e6f7ff,#90e0ef);">
        <i class="bi bi-graph-up-arrow text-success display-4 mb-3"></i>
        <h5 class="fw-bold">M√°s Clientes</h5>
        <p class="small text-muted mt-2">
          Tus datos estar√°n siempre a un click en WhatsApp.
        </p>
      </div>
    </div>

    <div class="col-md-4" data-animate>
      <div class="p-4 rounded-4 h-100 bg-gradient shadow-smooth" style="background: linear-gradient(145deg,#ffe6e6,#ff6b6b);">
        <i class="bi bi-heart-fill text-danger display-4 mb-3"></i>
        <h5 class="fw-bold">Impulso Local</h5>
        <p class="small text-muted mt-2">
          Apoyamos a los emprendedores de Mendoza para crecer juntos.
        </p>
      </div>
    </div>
  </div>
<!-- FORMULARIO ABAJO -->
<div class="card shadow-smooth p-5 rounded-4 mb-5">
  <h2 class="fw-bold text-primary mb-4 text-center">Quiero ser destacado</h2>
  <form id="destacadoForm"> 
    <div class="row g-3">
      <div class="col-md-6">
        <label for="nombreComercio" class="form-label fw-bold">Nombre del Comercio</label>
        <input type="text" class="form-control border-warning border-2 rounded-3" 
               id="nombreComercio" placeholder="Ingresa el nombre del comercio" required>
      </div>
      <div class="col-md-6">
        <label for="direccionComercio" class="form-label fw-bold">Direcci√≥n</label>
        <input type="text" class="form-control border-warning border-2 rounded-3" 
               id="direccionComercio" placeholder="Ingresa la direcci√≥n" required>
      </div>
      <div class="col-md-6">
        <label for="telefonoComercio" class="form-label fw-bold">Tel√©fono</label>
        <input type="tel" class="form-control border-warning border-2 rounded-3" 
               id="telefonoComercio" placeholder="Ej: 2611234567" required>
      </div>
      <div class="col-md-6">
        <label for="rubroComercio" class="form-label fw-bold">Rubro</label>
        <input type="text" class="form-control border-warning border-2 rounded-3" 
               id="rubroComercio" placeholder="Ej: Panader√≠a, Servicios, Deliveris" required>
      </div>
      <div class="col-12">
        <label for="descripcionComercio" class="form-label fw-bold">Descripci√≥n</label>
        <textarea class="form-control border-warning border-2 rounded-3" 
                  id="descripcionComercio" rows="3" placeholder="Escribe una breve descripci√≥n del comercio" required></textarea>
      </div>
    </div>

    <div class="text-center mt-4">
      <button type="submit" id="btnEnviarDestacado" 
              class="btn btn-warning btn-lg rounded-pill fw-bold d-flex align-items-center justify-content-center px-4 mx-auto">
        <i class="bi bi-star-fill me-2"></i> Quiero ser Destacado
      </button>
    </div>
  </form>
</div>


</section>
 

<script>
  const formDestacado = document.getElementById("destacadoForm");
  
  formDestacado.addEventListener("submit", function(e){
    e.preventDefault();
  
    // Capturar valores
    const nombre = document.getElementById("nombreComercio").value.trim();
    const direccion = document.getElementById("direccionComercio").value.trim();
    const telefono = document.getElementById("telefonoComercio").value.trim();
    const rubro = document.getElementById("rubroComercio").value.trim();
    const descripcion = document.getElementById("descripcionComercio").value.trim();
  
    // Validar que todos los campos est√©n completos
    if (!nombre || !direccion || !telefono || !rubro || !descripcion) {
      alert("Por favor complet√° todos los campos antes de enviar.");
      return;
    }
  
    // Mensaje completo con saludo y todos los datos
    const mensaje = `Hola! Soy ${nombre} y quiero ser DESTACADO en la gu√≠a.%0A
  Nombre: ${nombre}%0A
  Direcci√≥n: ${direccion}%0A
  Tel√©fono: ${telefono}%0A
  Rubro: ${rubro}%0A
  Descripci√≥n: ${descripcion}`;
  
   // Abrir WhatsApp con todos los datos
window.open(`https://wa.me/5492615676784?text=${mensaje}`, '_blank');

  
    // Limpiar formulario despu√©s de enviar
    formDestacado.reset();
  });
  </script>
  
  <style>
  /* Efecto al ingresar en el input o textarea */
  #destacadoForm input:focus,
  #destacadoForm textarea:focus {
    box-shadow: 0 0 12px rgba(255, 193, 7, 0.8);
    border-color: #ffc107;
    transition: all 0.3s ease-in-out;
  }
  
  /* Opcional: animaci√≥n suave de transici√≥n para todos los inputs */
  #destacadoForm input,
  #destacadoForm textarea {
    transition: all 0.3s ease-in-out;
  }
  </style>
  

<style>
/* Hover animado en tarjetas de beneficios */
.bg-gradient {
  transition: transform .3s, box-shadow .3s;
  cursor: default;
}
.bg-gradient:hover {
  transform: translateY(-5px);
  box-shadow: 0 12px 30px rgba(0,0,0,0.25);
}


</style>



<!-- ====================== FOOTER ====================== -->
<footer class="footer mt- pt-5 pb-4">
  <div class="container">
    <div class="row gy-4">
      <div class="col-md-4">
        <h5 class="text-white fw-bold">Comercios Mendoza</h5>
        <p class="text-secondary mb-0">Conectamos personas con negocios locales. Crecemos con vos.</p>
      </div>
      <div class="col-md-4">
        <h6 class="text-white fw-bold mb-2">Contacto</h6>
        <p class="mb-1"><i class="bi bi-geo-alt-fill me-2"></i>Espejo 836, Las Heras, Mendoza</p>
        <p class="mb-1"><i class="bi bi-envelope me-2"></i>publicacionesmp@gmail.com</p>
        <p class="mb-0"><i class="bi bi-telephone me-2"></i>+54 261 5676784</p>
      </div>
      <div class="col-md-4">
        <h6 class="text-white fw-bold mb-2">Seguinos</h6>
        <div class="d-flex gap-2">
          <a class="btn btn-outline-success btn-sm" target="_blank" href="https://wa.me/542615676784"><i class="bi bi-whatsapp"></i></a>
          <a class="btn btn-outline-primary btn-sm" target="_blank" href="https://www.facebook.com/share/1A2AWG7MdM/"><i class="bi bi-facebook"></i></a>
          <a class="btn btn-outline-danger btn-sm" target="_blank" href="https://www.instagram.com/comercial_las_heras?igsh=MTFsNm5tMWdiaHZkbw=="><i class="bi bi-instagram"></i></a>
         
        </div>
      </div>
    </div>
    <hr class="border-secondary my-4">
    <div class="text-center text-secondary small">¬© 2025 Gu√≠a Mendoza - Todos los derechos reservados - NL</div>
  </div>
</footer>
<!-- Modal eliminar comercio -->
<div class="modal fade" id="modalEliminar" tabindex="-1" aria-labelledby="modalEliminarLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content border-0 shadow">
      <div class="modal-header bg-danger text-white">
        <h5 class="modal-title" id="modalEliminarLabel">Eliminar Comercio</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Cerrar"></button>
      </div>
      <div class="modal-body">
        <p>¬øEst√°s seguro de que quer√©s eliminar este comercio?</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-success rounded-pill" data-bs-dismiss="modal">Cancelar</button>
        <button type="button" class="btn btn-danger rounded-pill" id="btnConfirmEliminar">Eliminar</button>
      </div>
    </div>
  </div>
</div>

<!-- Contenedor para alertas -->
<div id="alertContainer" class="position-fixed top-0 end-0 p-3" style="z-index: 1055;"></div>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<!-- FIREBASE -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js";
  import { getFirestore, collection, addDoc, getDocs, onSnapshot, query, orderBy, serverTimestamp, doc, deleteDoc } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-firestore.js";
  
  const firebaseConfig = {
    apiKey: "AIzaSyC6xVk-lhu3Tl0MysJHvmVA3wTZslLFeWY",
    authDomain: "gestion-postulantes.firebaseapp.com",
    projectId: "gestion-postulantes",
    storageBucket: "gestion-postulantes.firebasestorage.app",
    messagingSenderId: "316005992021",
    appId: "1:316005992021:web:ba86c12b2ab189ac09b6dc"
  };
  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);
  
  /* ---------------- Utilidades UI ---------------- */
  const comerciosContainer = document.getElementById("comerciosContainer");
  const formRegistro = document.getElementById("formRegistro");
  const searchInput = document.getElementById("searchInput");
  const filterBtns = document.querySelectorAll(".filter-btn");
  
  // Funci√≥n para generar avatar
  function avatarIniciales(nombre="C"){ 
    return `<div class="avatar flex-shrink-0">${nombre.trim().split(/\s+/).slice(0,2).map(w=>w[0]?.toUpperCase()||"").join("") || "C"}</div>`; 
  }
  
  // Scroll suave al hacer click en filtro
  const todosComerciosTitle = document.querySelector('#comercios1');
  filterBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      todosComerciosTitle.scrollIntoView({ behavior: 'smooth', block: 'start' });
    });
  });
  
  // ==== COMERCIO CARD con bot√≥n eliminar ====
  function comercioCard({id, nombre,direccion,whatsapp,rubro}){
    const iniciales = (nombre||"")
      .trim()
      .split(" ")
      .map(p => p[0]?.toUpperCase())
      .slice(0,2)
      .join("");
  
      return `<div class="col-comercio" id="comercio-${id}">
  <div class="card card-hover h-100 p-3 position-relative">
    <!-- Cruz m√°s peque√±a -->
    <button class="btn-close position-absolute top-0 end-0 m-2" 
            style="width:0px; height:1px;" 
            onclick="eliminarComercio('${id}')"></button>

    <div class="d-flex align-items-center gap-3">
      <div style="
        width:45px;
        height:45px;
        border-radius:50%;
        background-color:#0d6efd;
        color:#fff;
        font-weight:bold;
        font-size:px;
        display:flex;
        align-items:center;
        justify-content:center;
        border:2px solid #e0e0e0;
        box-shadow:0 2px 6px rgba(0,0,0,0.1);
      ">${iniciales}</div>
      <div class="flex-grow-1">
        <h6 class="mb-0 fw-bold text-primary">${nombre}</h6>
        <small class="text-muted">${rubro||"Sin rubro"}</small>
      </div>
    </div>

    <div class="mt-2 small d-flex align-items-start">
      <i class="bi bi-geo-alt-fill text-danger me-2"></i>${direccion||"‚Äî"}
    </div>

    <div class="mt-3">
      <a class="btn btn-outline-success w-100 rounded-pill fw-bold" target="_blank" href="https://wa.me/54${(whatsapp||"").replace(/\D/g,"")}">
        <i class="bi bi-whatsapp me-1"></i> WhatsApp
      </a>
    </div>
  </div>
</div>`;

  }
  // B√∫squeda
// B√∫squeda
searchInput.addEventListener("input", () => {
  aplicarRender();

  const valor = searchInput.value.trim().toLowerCase(); // ignoramos may√∫sc/min√∫sc

  // Si tiene al menos 5 letras o est√° vac√≠o => scroll
  if (valor.length >= 5 || valor.length === 0) {
    const todosComerciosTitle = document.querySelector("#comercios1"); // cambia por el id real
    if (todosComerciosTitle) {
      // Mover scroll a la secci√≥n
      todosComerciosTitle.scrollIntoView({ behavior: "smooth", block: "start" });

      // Borrar lo escrito despu√©s de un peque√±o retraso para que se note el scroll
      setTimeout(() => {
        searchInput.value = "";
      }, 300); // 300ms coincide con la duraci√≥n del scroll suave
    }
  }
});


  // ==== DESTACADOS ====
  const FEATURED = [
    { nombre: "Grupo Borgna ", descripcion: "M√°quinas electricas e inal√°mbricas EINHELL ", img: "maquina.jpeg", rubro: "Ferreteria", whatsapp: "2612507515", direccion: "Ventas Online - whatsapp" },
    { nombre: "Caf√© y T√© Boutique", descripcion: "Bebidas calientes y pasteler√≠a", img: "https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?w=400&h=400&fit=crop", rubro: "Caf√©", whatsapp: "2613344556", direccion: "Boulevard Central 78, Maip√∫" },
    { nombre: "Ferreter√≠a La Tuerca", descripcion: "Todo para tu hogar", img: "https://images.unsplash.com/photo-1505691938895-1758d7feb511?w=400&h=400&fit=crop", rubro: "Ferreter√≠a", whatsapp: "2612233445", direccion: "Avenida Principal 456, Maip√∫" },
    { nombre: "Panader√≠a Aroma", descripcion: "Panes y facturas frescas", img: "https://images.unsplash.com/photo-1532012197267-da84d127e765?w=400&h=400&fit=crop", rubro: "Panader√≠a", whatsapp: "2611122334", direccion: "Calle Falsa 123, Maip√∫" },
    { nombre: "Caf√© y T√© Boutique", descripcion: "Bebidas calientes y pasteler√≠a", img: "https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?w=400&h=400&fit=crop", rubro: "Caf√©", whatsapp: "2613344556", direccion: "Boulevard Central 78, Maip√∫" },
    { nombre: "Ferreter√≠a La Tuerca", descripcion: "Todo para tu hogar", img: "https://images.unsplash.com/photo-1505691938895-1758d7feb511?w=400&h=400&fit=crop", rubro: "Ferreter√≠a", whatsapp: "2612233445", direccion: "Avenida Principal 456, Maip√∫" },
    { nombre: "Grupo Borgna ", descripcion: "M√°quinas electricas e inal√°mbricas EINHELL ", img: "maquina.jpeg", rubro: "Ferreteria", whatsapp: "2612507515", direccion: "Ventas Online - whatsapp"  },
    { nombre: "Panader√≠a Aroma", descripcion: "Panes y facturas frescas", img: "https://images.unsplash.com/photo-1532012197267-da84d127e765?w=400&h=400&fit=crop", rubro: "Panader√≠a", whatsapp: "2611122334", direccion: "Calle Falsa 123, Maip√∫" },
    { nombre: "Caf√© y T√© Boutique", descripcion: "Bebidas calientes y pasteler√≠a", img: "https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?w=400&h=400&fit=crop", rubro: "Caf√©", whatsapp: "2613344556", direccion: "Boulevard Central 78, Maip√∫" },
    { nombre: "Ferreter√≠a La Tuerca", descripcion: "Todo para tu hogar", img: "https://images.unsplash.com/photo-1505691938895-1758d7feb511?w=400&h=400&fit=crop", rubro: "Ferreter√≠a", whatsapp: "2612233445", direccion: "Avenida Principal 456, Maip√∫" },
    { nombre: "Grupo Borgna ", descripcion: "M√°quinas electricas e inal√°mbricas EINHELL ", img: "maquina.jpeg", rubro: "Ferreteria", whatsapp: "2612507515", direccion: "Ventas Online - whatsapp"  },
    { nombre: "Panader√≠a Aroma", descripcion: "Panes y facturas frescas", img: "https://images.unsplash.com/photo-1532012197267-da84d127e765?w=400&h=400&fit=crop", rubro: "Panader√≠a", whatsapp: "2611122334", direccion: "Calle Falsa 123, Maip√∫" },
    { nombre: "Caf√© y T√© Boutique", descripcion: "Bebidas calientes y pasteler√≠a", img: "https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?w=400&h=400&fit=crop", rubro: "Caf√©", whatsapp: "2613344556", direccion: "Boulevard Central 78, Maip√∫" },
    { nombre: "Ferreter√≠a La Tuerca", descripcion: "Todo para tu hogar", img: "https://images.unsplash.com/photo-1505691938895-1758d7feb511?w=400&h=400&fit=crop", rubro: "Ferreter√≠a", whatsapp: "2612233445", direccion: "Avenida Principal 456, Maip√∫" },{ nombre: "Panader√≠a Aroma", descripcion: "Panes y facturas frescas", img: "https://images.unsplash.com/photo-1532012197267-da84d127e765?w=400&h=400&fit=crop", rubro: "Panader√≠a", whatsapp: "2611122334", direccion: "Calle Falsa 123, Maip√∫" },
    { nombre: "Caf√© y T√© Boutique", descripcion: "Bebidas calientes y pasteler√≠a", img: "https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?w=400&h=400&fit=crop", rubro: "Caf√©", whatsapp: "2613344556", direccion: "Boulevard Central 78, Maip√∫" },
    { nombre: "Ferreter√≠a La Tuerca", descripcion: "Todo para tu hogar", img: "https://images.unsplash.com/photo-1505691938895-1758d7feb511?w=400&h=400&fit=crop", rubro: "Ferreter√≠a", whatsapp: "2612233445", direccion: "Avenida Principal 456, Maip√∫" },{ nombre: "Panader√≠a Aroma", descripcion: "Panes y facturas frescas", img: "https://images.unsplash.com/photo-1532012197267-da84d127e765?w=400&h=400&fit=crop", rubro: "Panader√≠a", whatsapp: "2611122334", direccion: "Calle Falsa 123, Maip√∫" },
    { nombre: "Grupo Borgna ", descripcion: "M√°quinas electricas e inal√°mbricas EINHELL ", img: "maquina.jpeg", rubro: "Ferreteria", whatsapp: "2612507515", direccion: "Ventas Online - whatsapp"  },
    { nombre: "Caf√© y T√© Boutique", descripcion: "Bebidas calientes y pasteler√≠a", img: "https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?w=400&h=400&fit=crop", rubro: "Caf√©", whatsapp: "2613344556", direccion: "Boulevard Central 78, Maip√∫" },
    { nombre: "Ferreter√≠a La Tuerca", descripcion: "Todo para tu hogar", img: "https://images.unsplash.com/photo-1505691938895-1758d7feb511?w=400&h=400&fit=crop", rubro: "Ferreter√≠a", whatsapp: "2612233445", direccion: "Avenida Principal 456, Maip√∫" },{ nombre: "Panader√≠a Aroma", descripcion: "Panes y facturas frescas", img: "https://images.unsplash.com/photo-1532012197267-da84d127e765?w=400&h=400&fit=crop", rubro: "Panader√≠a", whatsapp: "2611122334", direccion: "Calle Falsa 123, Maip√∫" },
    { nombre: "Grupo Borgna ", descripcion: "M√°quinas electricas e inal√°mbricas EINHELL ", img: "maquina.jpeg", rubro: "Ferreteria", whatsapp: "2612507515", direccion: "Ventas Online - whatsapp"  },
    { nombre: "Caf√© y T√© Boutique", descripcion: "Bebidas calientes y pasteler√≠a", img: "https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?w=400&h=400&fit=crop", rubro: "Caf√©", whatsapp: "2613344556", direccion: "Boulevard Central 78, Maip√∫" },
    { nombre: "Ferreter√≠a La Tuerca", descripcion: "Todo para tu hogar", img: "https://images.unsplash.com/photo-1505691938895-1758d7feb511?w=400&h=400&fit=crop", rubro: "Ferreter√≠a", whatsapp: "2612233445", direccion: "Avenida Principal 456, Maip√∫" },{ nombre: "Panader√≠a Aroma", descripcion: "Panes y facturas frescas", img: "https://images.unsplash.com/photo-1532012197267-da84d127e765?w=400&h=400&fit=crop", rubro: "Panader√≠a", whatsapp: "2611122334", direccion: "Calle Falsa 123, Maip√∫" },
    { nombre: "Caf√© y T√© Boutique", descripcion: "Bebidas calientes y pasteler√≠a", img: "https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?w=400&h=400&fit=crop", rubro: "Caf√©", whatsapp: "2613344556", direccion: "Boulevard Central 78, Maip√∫" },
    { nombre: "Grupo Borgna ", descripcion: "M√°quinas electricas e inal√°mbricas EINHELL ", img: "maquina.jpeg", rubro: "Ferreteria", whatsapp: "2612507515", direccion: "Ventas Online - whatsapp"  },
    { nombre: "Ferreter√≠a La Tuerca", descripcion: "Todo para tu hogar", img: "https://images.unsplash.com/photo-1505691938895-1758d7feb511?w=400&h=400&fit=crop", rubro: "Ferreter√≠a", whatsapp: "2612233445", direccion: "Avenida Principal 456, Maip√∫" },{ nombre: "Panader√≠a Aroma", descripcion: "Panes y facturas frescas", img: "https://images.unsplash.com/photo-1532012197267-da84d127e765?w=400&h=400&fit=crop", rubro: "Panader√≠a", whatsapp: "2611122334", direccion: "Calle Falsa 123, Maip√∫" },
    { nombre: "Grupo Borgna ", descripcion: "M√°quinas electricas e inal√°mbricas EINHELL ", img: "maquina.jpeg", rubro: "Ferreteria", whatsapp: "2612507515", direccion: "Ventas Online - whatsapp"  },
    { nombre: "Caf√© y T√© Boutique", descripcion: "Bebidas calientes y pasteler√≠a", img: "https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?w=400&h=400&fit=crop", rubro: "Caf√©", whatsapp: "2613344556", direccion: "Boulevard Central 78, Maip√∫" },
    { nombre: "Ferreter√≠a La Tuerca", descripcion: "Todo para tu hogar", img: "https://images.unsplash.com/photo-1505691938895-1758d7feb511?w=400&h=400&fit=crop", rubro: "Ferreter√≠a", whatsapp: "2612233445", direccion: "Avenida Principal 456, Maip√∫" }
  ];
  
  const featuredContainer = document.getElementById("featuredContainer");
  function destacadoCard({nombre, descripcion, img, whatsapp, direccion, detallles,}) {
    return `<div class="carrusel1-card"><div class="card card-hover h-100">
      <img src="${img}" class="card-img-top" alt="${nombre}">
      <div class="card-body d-flex flex-column">
        <h6 class="fw-bold text-primary">${nombre}</h6>
        <p class="text-muted small">${descripcion||""}</p>
        <div class="mt-auto small d-flex align-items-start mb-2"><i class="bi bi-geo-alt-fill text-danger me-2"></i>${direccion||"‚Äî"}</div>
        <a href="https://wa.me/54${(whatsapp||"").replace(/\D/g,"")}" target="_blank" class="btn btn-success w-100 rounded-pill"><i class="bi bi-whatsapp me-1"></i> Contactar</a>
      </div>
    </div></div>`;
  }
  featuredContainer.innerHTML = FEATURED.map(destacadoCard).join("");
  
  let index = 0;
  function moveCarousel(step){
    const total = FEATURED.length;
    index = (index + step + total) % total;
    featuredContainer.style.transform = `translateX(-${index*20}%)`;
  }
  document.querySelector(".carrusel1-btn.prev").addEventListener("click", ()=> moveCarousel(-1));
  document.querySelector(".carrusel1-btn.next").addEventListener("click", ()=> moveCarousel(1));
  setInterval(()=> moveCarousel(1), 4000);
  
  // Animaciones on scroll
  const observer = new IntersectionObserver(entries=>{
    entries.forEach(e=>{ if(e.isIntersecting) e.target.classList.add("visible"); });
  },{threshold:.2});
  document.querySelectorAll("[data-animate]").forEach(el=>observer.observe(el));
  
  function renderFeatured(){
    featuredContainer.innerHTML = FEATURED.map(destacadoCard).join("");
  }
  
  /* ---------------- Estado/Cache para filtros y b√∫squeda ---------------- */
  let todosComercios = [];
  
  function aplicarRender(){
    const term = (searchInput.value||"").toLowerCase().trim();
    const rubroActivo = document.querySelector(".filter-btn.active")?.dataset?.rubro || "todos";
  
    const filtrados = todosComercios.filter(c=>{
      const coincideTexto = [c.nombre, c.direccion, c.rubro].filter(Boolean)
        .some(v=>String(v).toLowerCase().includes(term));
      const coincideRubro = rubroActivo==="todos" ? true : (c.rubro===rubroActivo);
      return coincideTexto && coincideRubro;
    });
  
    comerciosContainer.innerHTML = filtrados.map(comercioCard).join("") || `
      <div class="col-12">
        <div class="alert alert-light border text-center">No hay comercios para mostrar con esos filtros.</div>
      </div>`;
  }
  
  // Filtros Rubro
  filterBtns.forEach(btn=>{
    btn.addEventListener("click", ()=>{
      filterBtns.forEach(b=>b.classList.remove("active"));
      btn.classList.add("active");
      aplicarRender();
    });
  });
  
  // B√∫squeda
  searchInput.addEventListener("input", ()=> aplicarRender());

  
  
  /* ---------------- Formulario registro ---------------- */

  function mostrarToast(mensaje, tipo="success", duracion=3000){
  const container = document.getElementById("toastContainer");
  const toastEl = document.createElement("div");
  toastEl.className = `toast align-items-center text-bg-${tipo} border-0`;
  toastEl.setAttribute("role", "alert");
  toastEl.setAttribute("aria-live", "assertive");
  toastEl.setAttribute("aria-atomic", "true");

  toastEl.innerHTML = `
    <div class="d-flex">
      <div class="toast-body">${mensaje}</div>
      <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Cerrar"></button>
    </div>
  `;

  container.appendChild(toastEl);

  const toast = new bootstrap.Toast(toastEl, { delay: duracion });
  toast.show();

  // Quitar del DOM cuando se cierre
  toastEl.addEventListener('hidden.bs.toast', () => toastEl.remove());
}

formRegistro.addEventListener('submit', async (event) => {
  event.preventDefault();
  event.stopPropagation();
  if (!formRegistro.checkValidity()) {
    formRegistro.classList.add('was-validated');
    return;
  }

  const nombre = document.getElementById("regNombre").value.trim();
  const direccion = document.getElementById("regDireccion").value.trim();
  const rubro = document.getElementById("regRubro").value;
  const whatsapp = document.getElementById("regWhatsapp").value.trim();

  try {
    await addDoc(collection(db,"comercios"), {
      nombre, direccion, rubro, whatsapp,
      createdAt: serverTimestamp()
    });

    formRegistro.reset();
    formRegistro.classList.remove('was-validated');
    bootstrap.Modal.getInstance(document.getElementById("modalRegistro")).hide();

    // Mostrar toast de √©xito
    mostrarToast(`Comercio "${nombre}" registrado!!`, "success");

  } catch(e) {
    mostrarToast("Ocurri√≥ un error al guardar. Intent√° nuevamente.", "danger");
    console.error(e);
  }
});


  /* ---------------- Suscripci√≥n en tiempo real ---------------- */
  function suscribirComercios(){
    const q = query(collection(db,"comercios"), orderBy("createdAt","desc"));
    onSnapshot(q, (snap)=>{
      todosComercios = snap.docs.map(d=>({id:d.id, ...d.data()}));
      aplicarRender();
    });
  }
  
/* ---------------- Funci√≥n eliminar comercio ---------------- */
let comercioAEliminar = null;

window.eliminarComercio = function(id){
  comercioAEliminar = id;
  const modal = new bootstrap.Modal(document.getElementById('modalEliminar'));
  modal.show();
};

document.getElementById('btnConfirmEliminar').addEventListener('click', async ()=>{
  if(!comercioAEliminar) return;

  // üîë Pedir clave antes de eliminar
  const clave = prompt("Ingrese la clave para eliminar este comercio:");
  if(clave !== "mono123"){ 
    alert("Clave incorrecta. No se elimin√≥ el comercio.");
    return;
  }

  try{
    await deleteDoc(doc(db,"comercios",comercioAEliminar));
    const elem = document.getElementById(`comercio-${comercioAEliminar}`);
    if(elem) elem.remove();
    comercioAEliminar = null;
    bootstrap.Modal.getInstance(document.getElementById('modalEliminar')).hide();
  }catch(e){
    alert("Error al eliminar el comercio.");
    console.error(e);
  }
});


  /* ---------------- Semilla inicial ---------------- */
  async function seedSiVacio(){
    const snap = await getDocs(collection(db,"comercios"));
    if(snap.empty){
      await addDoc(collection(db,"comercios"),{
        nombre:"Panader√≠a La Espiga",
        direccion:"Av. San Mart√≠n 123",
        rubro:"Panader√≠a",
        whatsapp:"2614567890",
        createdAt: serverTimestamp()
      });
      await addDoc(collection(db,"comercios"),{
        nombre:"Farmacia Central",
        direccion:"Belgrano 456",
        rubro:"Farmacia",
        whatsapp:"2611234567",
        createdAt: serverTimestamp()
      });
    }
  }
  
  /* ---------------- Inicializar ---------------- */
  renderFeatured();
  await seedSiVacio();
  suscribirComercios();
  </script>
  
</body>
</html>

